{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/CourseSheet/CourseSheet.tsx\";\nimport React from 'react';\nimport { pdfjs, Document, Page } from 'react-pdf';\nimport Request from '../../API/Request';\nimport Hashtag from '../Hashtag/Hashtag';\nimport { display } from '../../Model/Month';\nimport '../../css/CourseSheet.css';\nimport RemoveButton from \"../General/Inputs/RemoveButton\";\n\nclass CourseSheet extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentHashtagIndex: -1,\n      hashtags: [],\n      file: null,\n      previewSrc: ''\n    };\n    this.updateWidth = this.updateWidth.bind(this);\n    this.remove = this.remove.bind(this);\n    this.fillHashtags = this.fillHashtags.bind(this);\n    this.fetchHashtags = this.fetchHashtags.bind(this);\n    this.refreshPreview = this.refreshPreview.bind(this);\n    this.fillPreview = this.fillPreview.bind(this);\n    this.onDocumentLoadSuccess = this.onDocumentLoadSuccess.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshPreview();\n    this.fetchHashtags();\n  }\n\n  refreshPreview() {\n    new Request('/course_sheet/course_sheet/' + this.props.id, this.fillPreview, 'POST', {\n      path: this.props.link\n    }, 'json', 'blob');\n  }\n\n  fillPreview(payload) {\n    this.setState({\n      file: payload\n    }, () => pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`);\n  }\n\n  onDocumentLoadSuccess() {}\n\n  fillHashtags(payload) {\n    this.setState({\n      hashtags: payload.map(hashtag => hashtag[0])\n    }, () => this.forceUpdate(() => this.render()));\n  }\n\n  fetchHashtags() {\n    new Request('/course_sheet/get_hashtags/' + this.props.id, this.fillHashtags);\n  }\n\n  updateWidth() {}\n\n  remove(event) {\n    let content;\n    let target = event.target;\n\n    if (undefined === target.parentElement.firstElementChild.innerText) {\n      content = target.parentElement.parentElement.parentElement.firstElementChild.innerText;\n\n      if ('' === content) {\n        content = target.parentElement.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.innerText;\n\n        if ('' === content) {\n          content = target.parentElement.parentElement.firstElementChild.innerText;\n        }\n      }\n    } else {\n      content = target.parentElement.firstElementChild.innerText;\n    }\n\n    content = content.substr(1, content.length - 1);\n    this.setState({\n      currentHashtagIndex: this.state.hashtags.indexOf(content)\n    }, () => {\n      if (-1 !== this.state.currentHashtagIndex) {\n        new Request('/course_sheet/remove_hashtags/' + this.props.id, this.fetchHashtags, 'POST', {\n          hashtag: content\n        });\n      }\n    });\n  }\n\n  renderHashtags() {\n    let res = [];\n\n    for (let hashtag of this.state.hashtags) {\n      res.push(React.createElement(Hashtag, {\n        key: hashtag,\n        text: hashtag,\n        updateWidth: this.updateWidth,\n        isRemovable: this.props.removableHashtags,\n        remove: this.remove,\n        className: '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexFlow: 'row wrap',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, res);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: 'course-sheet-' + this.props.id,\n      className: 'course-sheet row mt-5 col-lg-12 col-md-12 col-sm-12 col-xs-12 pr-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'col-lg-2 col-md-2 col-sm-2 d-none d-lg-block d-md-block d-sm-block mt-lg-2 mt-md-2 mt-1 mt-lg-0 mt-md-0 mr-lg-5 pl-0 pr-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'mt-lg-0 mt-md-1 mt-sm-1',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: '/coursesheet/' + this.props.idLobby + '/' + this.props.title + '/' + this.props.link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Document, {\n      file: this.state.file,\n      onLoadSuccess: this.onDocumentLoadSuccess,\n      noData: React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"R\\xE9cup\\xE9ration de la fiche...\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Page, {\n      height: 155,\n      scale: 1,\n      pageNumber: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: 'col-lg-9 col-md-10 col-sm-10 col-xs-12 pr-sm-0 pr-0 pl-0 pl-lg-0 pl-md-0 pl-sm-5',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'container-fluid row pl-0 pr-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: (this.props.activeRemoveButton ? 'col-11 ' : 'col-12 ') + 'course-sheet-label text-left mt-0 pr-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, display(this.props.title + ', ', this.props.publication_date)), this.props.activeRemoveButton ? React.createElement(RemoveButton, {\n      id: 'course-sheet-remove-' + this.props.id,\n      imgClassName: 'ml-5 mr-0',\n      delete: this.props.delete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: 'col-12 mb-2 pl-0 text-left float-none',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, this.renderHashtags()), React.createElement(\"div\", {\n      className: 'course-sheet-presentation ml-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: 'course-sheet-description',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, this.props.description), React.createElement(\"footer\", {\n      className: 'container-fluid row',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: '/course-sheet/' + this.props.id + '/' + this.props.title + '/' + this.props.link,\n      className: 'course-sheet-link col-5 text-left mt-2 p-0 d-block',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Lien vers la fiche\"), React.createElement(\"h4\", {\n      className: 'col-7 text-right p-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, this.props.pseudo)))));\n  }\n\n}\n\nexport default CourseSheet;","map":{"version":3,"sources":["/usr/src/app/client/src/View/CourseSheet/CourseSheet.tsx"],"names":["React","pdfjs","Document","Page","Request","Hashtag","display","RemoveButton","CourseSheet","Component","constructor","props","state","currentHashtagIndex","hashtags","file","previewSrc","updateWidth","bind","remove","fillHashtags","fetchHashtags","refreshPreview","fillPreview","onDocumentLoadSuccess","componentDidMount","id","path","link","payload","setState","GlobalWorkerOptions","workerSrc","version","map","hashtag","forceUpdate","render","event","content","target","undefined","parentElement","firstElementChild","innerText","substr","length","indexOf","renderHashtags","res","push","removableHashtags","flexFlow","alignItems","idLobby","title","activeRemoveButton","publication_date","delete","description","pseudo"],"mappings":"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","sourcesContent":["import React, {ReactNode} from 'react';\nimport {pdfjs, Document, Page} from 'react-pdf';\nimport Request from '../../API/Request';\nimport Hashtag from '../Hashtag/Hashtag';\nimport {display} from '../../Model/Month';\nimport '../../css/CourseSheet.css';\nimport RemoveButton from \"../General/Inputs/RemoveButton\";\n\ninterface CourseSheetProps {\n    id: string,\n    idLobby: string,\n    title: string,\n    pseudo: string,\n    publication_date: string,\n    link: string,\n    description: string,\n    activeRemoveButton: boolean,\n    removableHashtags: boolean,\n    delete: ((event: React.MouseEvent<HTMLImageElement, MouseEvent>) => void) | undefined,\n}\n\ninterface CourseSheetState {\n    currentHashtagIndex: number,\n    hashtags: string[],\n    file: File | null,\n    previewSrc: string,\n}\n\nclass CourseSheet extends React.Component<CourseSheetProps, CourseSheetState> {\n\n    public constructor(props: CourseSheetProps) {\n        super(props);\n        this.state = {\n            currentHashtagIndex: -1,\n            hashtags: [],\n            file: null,\n            previewSrc: '',\n        }\n        this.updateWidth = this.updateWidth.bind(this);\n        this.remove = this.remove.bind(this);\n        this.fillHashtags = this.fillHashtags.bind(this);\n        this.fetchHashtags = this.fetchHashtags.bind(this);\n        this.refreshPreview = this.refreshPreview.bind(this);\n        this.fillPreview = this.fillPreview.bind(this);\n        this.onDocumentLoadSuccess = this.onDocumentLoadSuccess.bind(this);\n    }\n\n    public componentDidMount(): void {\n        this.refreshPreview();\n        this.fetchHashtags();\n    }\n\n    public refreshPreview(): void {\n        new Request(\n            '/course_sheet/course_sheet/' + this.props.id,\n            this.fillPreview,\n            'POST',\n            {\n                path: this.props.link,\n            },\n            'json',\n            'blob',\n        );\n    }\n\n    public fillPreview(payload: any): void {\n        this.setState(\n            {file: payload},\n            () => pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\n        );\n    }\n\n    public onDocumentLoadSuccess(): void {\n\n    }\n\n    public fillHashtags(payload: any): void {\n        this.setState(\n            {hashtags: payload.map((hashtag: any) => hashtag[0])},\n            () => this.forceUpdate(() => this.render()));\n    }\n\n    public fetchHashtags(): void {\n        new Request(\n            '/course_sheet/get_hashtags/' + this.props.id,\n            this.fillHashtags,\n        )\n    }\n\n    public updateWidth(): void {\n\n    }\n\n    public remove(event: React.MouseEvent<HTMLOrSVGElement>): void {\n        let content: string;\n        let target: any = event.target;\n        if (undefined === target.parentElement.firstElementChild.innerText) {\n            content = target.parentElement.parentElement.parentElement.firstElementChild.innerText;\n            if ('' === content) {\n                content = target.parentElement.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.innerText;\n                if ('' === content) {\n                    content = target.parentElement.parentElement.firstElementChild.innerText;\n                }\n            }\n        } else {\n            content = target.parentElement.firstElementChild.innerText;\n        }\n        content = content.substr(1, content.length - 1);\n        this.setState(\n            {currentHashtagIndex: this.state.hashtags.indexOf(content)},\n            () => {\n                if (-1 !== this.state.currentHashtagIndex) {\n                    new Request(\n                        '/course_sheet/remove_hashtags/' + this.props.id,\n                        this.fetchHashtags,\n                        'POST',\n                        {\n                            hashtag: content,\n                        },\n                    )\n                }\n            });\n    }\n\n    public renderHashtags(): ReactNode {\n        let res: ReactNode[] = [];\n\n        for (let hashtag of this.state.hashtags) {\n            res.push(\n                <Hashtag\n                    key={hashtag}\n                    text={hashtag}\n                    updateWidth={this.updateWidth}\n                    isRemovable={this.props.removableHashtags}\n                    remove={this.remove}\n                    className={''}\n                />\n            )\n        }\n\n        return <div style={{\n            display: 'flex',\n            flexFlow: 'row wrap',\n            alignItems: 'center',\n        }}>{res}</div>;\n    }\n\n    public render(): ReactNode {\n        return (\n            <div id={'course-sheet-' + this.props.id}\n                 className={'course-sheet row mt-5 col-lg-12 col-md-12 col-sm-12 col-xs-12 pr-0'}>\n                <div\n                    className={'col-lg-2 col-md-2 col-sm-2 d-none d-lg-block d-md-block d-sm-block mt-lg-2 mt-md-2 mt-1 mt-lg-0 mt-md-0 mr-lg-5 pl-0 pr-0'}>\n                    <div className={'mt-lg-0 mt-md-1 mt-sm-1'}>\n                        <a href={'/coursesheet/' + this.props.idLobby + '/' + this.props.title + '/' + this.props.link}>\n                            <Document\n                                file={this.state.file}\n                                onLoadSuccess={this.onDocumentLoadSuccess}\n                                noData={<h4>Récupération de la fiche...</h4>}\n                            >\n                                <Page height={155} scale={1} pageNumber={1}/>\n                            </Document>\n                        </a>\n                    </div>\n                </div>\n                <div className={'col-lg-9 col-md-10 col-sm-10 col-xs-12 pr-sm-0 pr-0 pl-0 pl-lg-0 pl-md-0 pl-sm-5'}>\n                    <div className={'container-fluid row pl-0 pr-0'}>\n                        <h3 className={(this.props.activeRemoveButton ? 'col-11 ' : 'col-12 ') + 'course-sheet-label text-left mt-0 pr-0'}>{display(this.props.title + ', ', this.props.publication_date)}</h3>\n                        {this.props.activeRemoveButton\n                            ? <RemoveButton\n                                id={'course-sheet-remove-' + this.props.id}\n                                imgClassName={'ml-5 mr-0'}\n                                delete={this.props.delete}\n                            />\n                            : <div></div>}\n                    </div>\n                    <div className={'col-12 mb-2 pl-0 text-left float-none'}>\n                        {this.renderHashtags()}\n                    </div>\n                    <div className={'course-sheet-presentation ml-0'}>\n                        <p className={'course-sheet-description'}>{this.props.description}</p>\n                        <footer className={'container-fluid row'}>\n                            <a\n                                href={'/course-sheet/' + this.props.id + '/' + this.props.title + '/' + this.props.link}\n                                className={'course-sheet-link col-5 text-left mt-2 p-0 d-block'}\n                            >\n                                Lien vers la fiche\n                            </a>\n                            <h4 className={'col-7 text-right p-0'}>{this.props.pseudo}</h4>\n                        </footer>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CourseSheet;\n"]},"metadata":{},"sourceType":"module"}