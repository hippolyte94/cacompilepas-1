{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/Public/PublicLobbies.tsx\";\nimport React from \"react\";\nimport Request from \"../../API/Request\";\nimport PublicLobby from \"./PublicLobby\";\nimport Header from \"../General/Header\";\n\nclass PublicLobbies extends React.Component {\n  constructor(props) {\n    super(props);\n    this.intervalRefresh = void 0;\n    this.state = {\n      lobbies: []\n    };\n    this.fillLobbies = this.fillLobbies.bind(this);\n    this.refreshLobbies = this.refreshLobbies.bind(this);\n    this.renderLobbies = this.renderLobbies.bind(this);\n    this.intervalRefresh = setInterval(() => this.refreshLobbies(), 1000);\n  }\n\n  componentDidMount() {\n    this.refreshLobbies();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalRefresh);\n  }\n\n  fillLobbies(payload) {\n    this.setState({\n      lobbies: payload['data']\n    });\n  }\n\n  renderLobbies() {\n    let res;\n    let i = 0;\n\n    if (undefined !== this.state.lobbies && 0 !== this.state.lobbies.length) {\n      res = this.state.lobbies.map(lobby => {\n        i++;\n        return React.createElement(PublicLobby, {\n          key: lobby['id_lobby'],\n          id: lobby['id_lobby'],\n          label: lobby['label_lobby'],\n          description: lobby['description'],\n          logo: lobby['logo'],\n          pseudo: lobby['pseudo'],\n          onTheRight: 0 === i % 2,\n          activeRemoveButton: false,\n          delete: null,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        });\n      });\n    } else {\n      res = React.createElement(\"h4\", {\n        className: 'text-center col-12 mt-5',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Il n'y a pas de lobby public pour le moment\");\n    }\n\n    return res;\n  }\n\n  refreshLobbies() {\n    new Request('/lobby/get_lobbies', this.fillLobbies);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: 'container-fluid p-0 p-lg-4 p-md-4 p-sm-4 ml-sm-2',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Header, {\n      h1: 'Lobbies publics',\n      p: 'Ici tu pourras trouver les lobbies publics',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: 'row container-fluid mt-3 mt-lg-0 mt-md-0 mt-sm-0 pt-lg-5 pt-md-0 pr-0 pl-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.renderLobbies()));\n  }\n\n}\n\nexport default PublicLobbies;","map":{"version":3,"sources":["/usr/src/app/client/src/View/Public/PublicLobbies.tsx"],"names":["React","Request","PublicLobby","Header","PublicLobbies","Component","constructor","props","intervalRefresh","state","lobbies","fillLobbies","bind","refreshLobbies","renderLobbies","setInterval","componentDidMount","componentWillUnmount","clearInterval","payload","setState","res","i","undefined","length","map","lobby","render"],"mappings":";AAAA,OAAOA,KAAP,MAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAMA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAAqE;AAGjEC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;AADoB,SADhBC,eACgB;AAEpB,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;AAGA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKJ,eAAL,GAAuBO,WAAW,CAC9B,MAAM,KAAKF,cAAL,EADwB,EAE9B,IAF8B,CAAlC;AAIH;;AAEMG,EAAAA,iBAAP,GAAiC;AAC7B,SAAKH,cAAL;AACH;;AAEMI,EAAAA,oBAAP,GAAoC;AAChCC,IAAAA,aAAa,CAAC,KAAKV,eAAN,CAAb;AACH;;AAEMG,EAAAA,WAAP,CAAmBQ,OAAnB,EAAuC;AACnC,SAAKC,QAAL,CAAc;AAACV,MAAAA,OAAO,EAAES,OAAO,CAAC,MAAD;AAAjB,KAAd;AACH;;AAEML,EAAAA,aAAP,GAAkC;AAC9B,QAAIO,GAAJ;AACA,QAAIC,CAAS,GAAG,CAAhB;;AACA,QAAIC,SAAS,KAAK,KAAKd,KAAL,CAAWC,OAAzB,IAAoC,MAAM,KAAKD,KAAL,CAAWC,OAAX,CAAmBc,MAAjE,EAAyE;AACrEH,MAAAA,GAAG,GAAG,KAAKZ,KAAL,CAAWC,OAAX,CAAmBe,GAAnB,CACFC,KAAK,IAAI;AACLJ,QAAAA,CAAC;AACD,eACA,oBAAC,WAAD;AACI,UAAA,GAAG,EAAEI,KAAK,CAAC,UAAD,CADd;AAEI,UAAA,EAAE,EAAEA,KAAK,CAAC,UAAD,CAFb;AAGI,UAAA,KAAK,EAAEA,KAAK,CAAC,aAAD,CAHhB;AAII,UAAA,WAAW,EAAEA,KAAK,CAAC,aAAD,CAJtB;AAKI,UAAA,IAAI,EAAEA,KAAK,CAAC,MAAD,CALf;AAMI,UAAA,MAAM,EAAEA,KAAK,CAAC,QAAD,CANjB;AAOI,UAAA,UAAU,EAAE,MAAMJ,CAAC,GAAG,CAP1B;AAQI,UAAA,kBAAkB,EAAE,KARxB;AASI,UAAA,MAAM,EAAE,IATZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAaH,OAhBC,CAAN;AAkBH,KAnBD,MAoBK;AACDD,MAAAA,GAAG,GAAG;AAAI,QAAA,SAAS,EAAE,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAAN;AACH;;AACD,WAAOA,GAAP;AACH;;AAEMR,EAAAA,cAAP,GAA8B;AAC1B,QAAIZ,OAAJ,CACI,oBADJ,EAEI,KAAKU,WAFT;AAIH;;AAEMgB,EAAAA,MAAP,GAA2B;AACvB,WACI;AAAK,MAAA,SAAS,EAAE,kDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AACI,MAAA,EAAE,EAAE,iBADR;AAEI,MAAA,CAAC,EAAE,4CAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAKI;AAAK,MAAA,SAAS,EAAE,4EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKb,aAAL,EADL,CALJ,CADJ;AAUH;;AA5EgE;;AA+ErE,eAAeV,aAAf","sourcesContent":["import React, {ReactNode} from \"react\";\nimport Request from \"../../API/Request\";\nimport PublicLobby from \"./PublicLobby\";\nimport Header from \"../General/Header\";\n\ninterface PublicLobbiesState {\n    lobbies: any[],\n}\n\nclass PublicLobbies extends React.Component<any, PublicLobbiesState> {\n\n    private intervalRefresh: any;\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            lobbies: [],\n        }\n        this.fillLobbies = this.fillLobbies.bind(this);\n        this.refreshLobbies = this.refreshLobbies.bind(this);\n        this.renderLobbies = this.renderLobbies.bind(this);\n        this.intervalRefresh = setInterval(\n            () => this.refreshLobbies(),\n            1000,\n        );\n    }\n\n    public componentDidMount(): void {\n        this.refreshLobbies();\n    }\n\n    public componentWillUnmount(): void {\n        clearInterval(this.intervalRefresh);\n    }\n\n    public fillLobbies(payload: any): void {\n        this.setState({lobbies: payload['data']});\n    }\n\n    public renderLobbies(): ReactNode {\n        let res;\n        let i: number = 0;\n        if (undefined !== this.state.lobbies && 0 !== this.state.lobbies.length) {\n            res = this.state.lobbies.map(\n                lobby => {\n                    i++;\n                    return (\n                    <PublicLobby\n                        key={lobby['id_lobby']}\n                        id={lobby['id_lobby']}\n                        label={lobby['label_lobby']}\n                        description={lobby['description']}\n                        logo={lobby['logo']}\n                        pseudo={lobby['pseudo']}\n                        onTheRight={0 === i % 2}\n                        activeRemoveButton={false}\n                        delete={null}\n                    />\n                    );\n                }\n            );\n        }\n        else {\n            res = <h4 className={'text-center col-12 mt-5'}>Il n'y a pas de lobby public pour le moment</h4>;\n        }\n        return res;\n    }\n\n    public refreshLobbies(): void {\n        new Request(\n            '/lobby/get_lobbies',\n            this.fillLobbies,\n        );\n    }\n\n    public render(): ReactNode {\n        return (\n            <div className={'container-fluid p-0 p-lg-4 p-md-4 p-sm-4 ml-sm-2'}>\n                <Header\n                    h1={'Lobbies publics'}\n                    p={'Ici tu pourras trouver les lobbies publics'}\n                />\n                <div className={'row container-fluid mt-3 mt-lg-0 mt-md-0 mt-sm-0 pt-lg-5 pt-md-0 pr-0 pl-0'}>\n                    {this.renderLobbies()}\n                </div>\n            </div>)\n    }\n}\n\nexport default PublicLobbies;\n"]},"metadata":{},"sourceType":"module"}