{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/Lobby/LobbyDescription.tsx\";\nimport React from 'react';\nimport Request from '../../API/Request';\nimport adminIcon from \"../../img/admin.png\";\n\nclass LobbyDescription extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAdmin: false,\n      lobby: []\n    };\n    this.checkIfAdmin = this.checkIfAdmin.bind(this);\n    this.fillDescription = this.fillDescription.bind(this);\n    this.getLogo = this.getLogo.bind(this);\n    this.fillLogo = this.fillLogo.bind(this);\n    this.refreshAdmin = this.refreshAdmin.bind(this);\n    this.refreshDescription = this.refreshDescription.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshAdmin();\n    this.refreshDescription();\n  }\n\n  checkIfAdmin(payload) {\n    this.setState({\n      isAdmin: payload['success']\n    });\n  }\n\n  refreshAdmin() {\n    new Request('/user/check_if_admin', this.checkIfAdmin, 'POST', {\n      'lobby_id': this.props.id\n    });\n  }\n\n  refreshDescription() {\n    new Request('/lobby/consult/' + this.props.id, this.fillDescription);\n  }\n\n  fillDescription(payload) {\n    this.setState({\n      lobby: payload['data'][0]\n    }, this.getLogo);\n  }\n\n  getLogo() {\n    new Request('/lobby/get_logo/' + this.props.id, this.fillLogo, 'POST', {\n      path: this.state.lobby['logo']\n    }, 'json', 'blob');\n  }\n\n  fillLogo(payload) {\n    const img = document.getElementById('lobby-logo' + this.props.id);\n    const blob = new Blob([payload], {\n      type: 'image/jpg'\n    });\n    img.src = URL.createObjectURL(blob);\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      className: 'col-lg-12 col-sm-12 pr-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'row container-fluid mt-0 mt-lg-5 mt-md-5 mt-sm-5 p-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'd-none d-lg-block d-md-block d-sm-block col-lg-2 col-md-2 col-sm-3 col-xs-12 pt-5 pr-0 pl-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: 'lobby-logo' + this.props.id,\n      className: 'lobby-logo mt-0 mt-lg-4 mt-md-4 mt-sm-4',\n      alt: this.state.lobby['label_lobby'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: 'col-lg-10 col-md-10 col-sm-9 col-xs-12 pr-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'row pr-0 pl-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'col-11 col-lg-9 col-md-9 text-left pr-0 pl-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: 'lobby-label',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.lobby['label_lobby'])), (() => {\n      return this.state.isAdmin ? React.createElement(\"div\", {\n        className: 'col-1 col-lg-3 col-md-3 text-right pt-0 pt-lg-5 pt-md-5 mt-5 mt-lg-0 mt-md-0',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: '/admin/' + this.props.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'row',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'col-10 pr-0',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: 'h3 d-none d-lg-block mt-0 pt-0 pt-lg-1 pr-0 text-right',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Admin du lobby\")), React.createElement(\"div\", {\n        className: 'col-2',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: adminIcon,\n        alt: 'Icon de l\\'admin',\n        className: 'admin-icon',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      });\n    })()), React.createElement(\"div\", {\n      className: 'row pr-0 pl-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'col-12 pr-0 pl-0',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"lobby-page-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, this.state.lobby['description']))))));\n  }\n\n}\n\nexport default LobbyDescription;","map":{"version":3,"sources":["/usr/src/app/client/src/View/Lobby/LobbyDescription.tsx"],"names":["React","Request","adminIcon","LobbyDescription","Component","constructor","props","state","isAdmin","lobby","checkIfAdmin","bind","fillDescription","getLogo","fillLogo","refreshAdmin","refreshDescription","componentDidMount","payload","setState","id","path","img","document","getElementById","blob","Blob","type","src","URL","createObjectURL","render"],"mappings":"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","sourcesContent":["import React, {ReactNode} from 'react';\nimport Request from '../../API/Request';\nimport adminIcon from \"../../img/admin.png\";\n\ninterface LobbyDescriptionProps {\n    id: string,\n}\n\ninterface LobbyDescriptionState {\n    isAdmin: boolean,\n    lobby: any,\n}\n\nclass LobbyDescription extends React.Component<LobbyDescriptionProps, LobbyDescriptionState> {\n    public constructor(props: { id: string }) {\n        super(props);\n        this.state = {\n            isAdmin: false,\n            lobby: [],\n        };\n        this.checkIfAdmin = this.checkIfAdmin.bind(this);\n        this.fillDescription = this.fillDescription.bind(this);\n        this.getLogo = this.getLogo.bind(this);\n        this.fillLogo = this.fillLogo.bind(this);\n        this.refreshAdmin = this.refreshAdmin.bind(this);\n        this.refreshDescription = this.refreshDescription.bind(this);\n    }\n\n    public componentDidMount(): void {\n        this.refreshAdmin();\n        this.refreshDescription();\n    }\n\n    public checkIfAdmin(payload: any): void {\n        this.setState({isAdmin: payload['success']});\n    }\n\n    public refreshAdmin(): void {\n        new Request(\n            '/user/check_if_admin',\n            this.checkIfAdmin,\n            'POST',\n            {\n                'lobby_id': this.props.id,\n            }\n        );\n    }\n\n    public refreshDescription(): void {\n        new Request('/lobby/consult/' + this.props.id, this.fillDescription);\n    }\n\n    public fillDescription(payload: any): void {\n        this.setState(\n            {lobby: payload['data'][0]},\n            this.getLogo);\n    }\n\n    public getLogo(): void {\n        new Request(\n            '/lobby/get_logo/' + this.props.id,\n            this.fillLogo,\n            'POST',\n            {\n                path: this.state.lobby['logo'],\n            },\n            'json',\n            'blob',\n        );\n    }\n\n    public fillLogo(payload: Blob): void {\n        const img: any = document.getElementById('lobby-logo' + this.props.id);\n        const blob = new Blob([payload], {type: 'image/jpg'});\n        img.src = URL.createObjectURL(blob);\n    }\n\n    public render(): ReactNode {\n        return (\n            <section className={'col-lg-12 col-sm-12 pr-0'}>\n                <div className={'row container-fluid mt-0 mt-lg-5 mt-md-5 mt-sm-5 p-0'}>\n                    <div\n                        className={'d-none d-lg-block d-md-block d-sm-block col-lg-2 col-md-2 col-sm-3 col-xs-12 pt-5 pr-0 pl-0'}>\n                        <img\n                            id={'lobby-logo' + this.props.id}\n                            className={'lobby-logo mt-0 mt-lg-4 mt-md-4 mt-sm-4'}\n                            alt={this.state.lobby['label_lobby']}\n                        />\n                    </div>\n                    <div className={'col-lg-10 col-md-10 col-sm-9 col-xs-12 pr-0'}>\n                        <div className={'row pr-0 pl-0'}>\n                            <div className={'col-11 col-lg-9 col-md-9 text-left pr-0 pl-0'}>\n                                <h1 id={'lobby-label'}>{this.state.lobby['label_lobby']}</h1>\n                            </div>\n                            {\n                                (() => {\n                                    return this.state.isAdmin\n                                        ? <div className={'col-1 col-lg-3 col-md-3 text-right pt-0 pt-lg-5 pt-md-5 mt-5 mt-lg-0 mt-md-0'}>\n                                            <a\n                                                href={'/admin/' + this.props.id}\n                                            >\n                                                <div className={'row'}>\n                                                    <div className={'col-10 pr-0'}>\n                                                        <p className={'h3 d-none d-lg-block mt-0 pt-0 pt-lg-1 pr-0 text-right'}>Admin du lobby</p>\n                                                    </div>\n                                                    <div className={'col-2'}>\n                                                        <img\n                                                            src={adminIcon}\n                                                            alt={'Icon de l\\'admin'}\n                                                            className={'admin-icon'}\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </a>\n                                        </div>\n                                        : <div></div>\n                                })()\n                            }\n                        </div>\n                        <div className={'row pr-0 pl-0'}>\n                            <div className={'col-12 pr-0 pl-0'}>\n                                <p className=\"lobby-page-description\">{this.state.lobby['description']}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\nexport default LobbyDescription;\n"]},"metadata":{},"sourceType":"module"}