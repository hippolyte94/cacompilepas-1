{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/client/src/View/General/Inputs/DropBox.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport '../../../css/DropBox.css';\nimport { ReactComponent as DropBoxLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../img/usable-image-icon.svg\";\nimport pdfIcon from \"../../../img/pdf.svg\";\nimport { pdfjs, Document, Page } from 'react-pdf';\nconst Heading = styled.p`\n  color: #5757e7;\n  text-align: center;\n`;\n\n// 192.168.43.91\nclass DropBoxBackground extends React.Component {\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        backgroundColor: this.props.dragged ? 'transparent' : '#ffffff'\n      },\n      className: (this.props.dragged ? ' mt-0 mt-lg-2 ' : 'pt-4 pb-4 ') + 'rounded pb-lg-2 pb-md-2 pb-sm-2 file-upload-content ' + this.props.className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, this.props.children, React.createElement(\"div\", {\n      className: 'd-none d-lg-block d-md-block d-sm-block',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(Heading, {\n      active: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, this.props.label)));\n  }\n\n}\n\nclass DropBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      draggingState: '',\n      dragged: false,\n      label: this.props.labelNotDragged,\n      src: '',\n      file: null\n    };\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseOut = this.handleMouseOut.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleFileDrop = this.handleFileDrop.bind(this);\n    this.handleDragEnter = this.handleDragEnter.bind(this);\n    this.handleDragExit = this.handleDragExit.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.updateFilePreview = this.updateFilePreview.bind(this);\n    this.onDocumentLoadSuccess = this.onDocumentLoadSuccess.bind(this);\n    this.renderLogo = this.renderLogo.bind(this);\n  }\n\n  handleMouseDown(event) {\n    this.setState({\n      label: this.props.labelNotDragged\n    });\n    this.setState({\n      draggingState: 'dragging'\n    });\n  }\n\n  handleMouseOut(event) {\n    this.setState({\n      draggingState: 'not dragging'\n    });\n  }\n\n  handleMouseUp(event) {\n    this.setState({\n      draggingState: 'not dragging'\n    });\n  }\n\n  handleDragOver(event) {\n    event.preventDefault();\n  }\n\n  handleFileDrop(event) {\n    this.props.handleFileDrop(event);\n    this.setState({\n      dragged: true\n    });\n    this.setState({\n      label: this.props.labelDragged\n    });\n    this.setState({\n      draggingState: 'not dragging'\n    });\n    this.updateFilePreview(event.dataTransfer.files[0]);\n  }\n\n  handleDragEnter(event) {\n    this.setState({\n      label: this.props.labelNotDragged\n    });\n    this.setState({\n      draggingState: 'dragging'\n    });\n  }\n\n  handleDragExit(event) {\n    if (this.state.dragged) {\n      this.setState({\n        label: this.props.labelDragged\n      });\n    } else {\n      this.setState({\n        label: this.props.labelNotDragged\n      });\n    }\n\n    this.setState({\n      draggingState: 'not dragging'\n    });\n  }\n\n  handleFileChange(event) {\n    this.props.handleFileChange(event);\n    this.setState({\n      dragged: true\n    });\n    this.setState({\n      label: this.props.labelDragged\n    });\n    this.setState({\n      draggingState: 'not dragging'\n    }); // @ts-ignore\n\n    this.updateFilePreview(event.target.files[0]);\n  }\n\n  updateFilePreview(file) {\n    let reader = new FileReader();\n    this.setState({\n      file: file\n    });\n\n    if (file.type === 'application/pdf') {\n      pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n    } else {\n      reader.addEventListener('load', () => {\n        // @ts-ignore\n        this.setState({\n          src: reader.result\n        });\n      });\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n\n  onDocumentLoadSuccess() {}\n\n  renderLogo() {\n    if (this.state.dragged && null !== this.state.file) {\n      // @ts-ignore\n      if (this.state.file.type.includes('image')) {\n        return React.createElement(\"img\", {\n          id: 'dragged-file',\n          src: this.state.src,\n          alt: 'Fichier déposé',\n          className: 'dragged-file',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: 'pdf-container',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(Document, {\n          file: this.state.file,\n          onLoadSuccess: this.onDocumentLoadSuccess,\n          noData: React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170\n            },\n            __self: this\n          }, \"Glisse un fichier\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(Page, {\n          height: 100,\n          scale: 1,\n          pageNumber: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        })));\n      }\n    } else {\n      if (this.props.accept.includes('pdf')) {\n        return React.createElement(\"div\", {\n          className: 'pdf-file-icon-container pb-3',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: pdfIcon,\n          alt: 'Icône de PDF',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          className: 'rounded-1 not-dragged-file',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(DropBoxLogo, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }));\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: this.props.className,\n      onDragOver: this.handleDragOver,\n      onDrop: this.handleFileDrop,\n      onDragEnter: this.handleDragEnter,\n      onDragExit: this.handleDragExit,\n      onMouseDown: this.handleMouseDown,\n      onMouseUp: this.handleMouseUp,\n      onMouseOut: this.handleMouseOut,\n      style: {\n        opacity: this.state.draggingState === 'dragging' ? 0.5 : 1,\n        transform: this.state.draggingState === 'dragging' ? 'rotate(-2deg) translateY(-10px)' : 'rotate(0)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: 'file-upload ' + this.props.labelClassName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(DropBoxBackground, {\n      label: this.state.label,\n      className: this.props.backgroundClassName,\n      dragged: this.state.dragged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: 'file',\n      id: this.props.id,\n      onChange: this.handleFileChange,\n      hidden: true,\n      accept: this.props.accept,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), this.renderLogo())));\n  }\n\n}\n\nexport default DropBox;","map":{"version":3,"sources":["/usr/src/app/client/src/View/General/Inputs/DropBox.tsx"],"names":["React","styled","pdfjs","Document","Page","Heading","p","DropBoxBackground","Component","render","backgroundColor","props","dragged","className","children","label","DropBox","constructor","state","draggingState","labelNotDragged","src","file","handleMouseDown","bind","handleMouseOut","handleMouseUp","handleDragOver","handleFileDrop","handleDragEnter","handleDragExit","handleFileChange","updateFilePreview","onDocumentLoadSuccess","renderLogo","event","setState","preventDefault","labelDragged","dataTransfer","files","target","reader","FileReader","type","GlobalWorkerOptions","workerSrc","version","addEventListener","result","readAsDataURL","includes","accept","pdfIcon","opacity","transform","labelClassName","backgroundClassName","id"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, ReactNode} from 'react';\nimport styled from 'styled-components';\nimport '../../../css/DropBox.css';\nimport {ReactComponent as DropBoxLogo} from '../../../img/usable-image-icon.svg';\nimport pdfIcon from '../../../img/pdf.svg';\nimport {pdfjs, Document, Page} from 'react-pdf';\n\nconst Heading = styled.p<{ active: boolean }>`\n  color: #5757e7;\n  text-align: center;\n`;\n\ninterface DropBoxBackgroundProps {\n    label: string,\n    className: string,\n    dragged: boolean,\n}\n// 192.168.43.91\n\nclass DropBoxBackground extends React.Component<DropBoxBackgroundProps, any> {\n    public render(): ReactNode {\n        return (\n            <div\n                style={{\n                    backgroundColor: this.props.dragged ? 'transparent' : '#ffffff'\n                }}\n                className={(this.props.dragged ? ' mt-0 mt-lg-2 ' : 'pt-4 pb-4 ') + 'rounded pb-lg-2 pb-md-2 pb-sm-2 file-upload-content ' + this.props.className}\n            >\n                {this.props.children}\n                <div className={'d-none d-lg-block d-md-block d-sm-block'}>\n                    <Heading active={false}>\n                        {this.props.label}\n                    </Heading>\n                </div>\n            </div>\n        );\n    }\n}\n\ninterface DropBoxProps {\n    id: string,\n    className: string,\n    labelNotDragged: string,\n    labelDragged: string,\n    accept: string,\n    backgroundClassName: string,\n    labelClassName?: string,\n    handleFileDrop: (event: React.DragEvent<HTMLDivElement>) => void,\n    handleFileChange: (event: ChangeEvent<HTMLInputElement>) => void,\n}\n\ninterface DropBoxState {\n    draggingState: string,\n    dragged: boolean,\n    label: string,\n    src: string,\n    file: File | null,\n}\n\nclass DropBox extends React.Component<DropBoxProps, DropBoxState> {\n    constructor(props: DropBoxProps) {\n        super(props);\n        this.state = {\n            draggingState: '',\n            dragged: false,\n            label: this.props.labelNotDragged,\n            src: '',\n            file: null,\n        }\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleMouseOut = this.handleMouseOut.bind(this);\n        this.handleMouseUp = this.handleMouseUp.bind(this);\n        this.handleDragOver = this.handleDragOver.bind(this);\n        this.handleFileDrop = this.handleFileDrop.bind(this);\n        this.handleDragEnter = this.handleDragEnter.bind(this);\n        this.handleDragExit = this.handleDragExit.bind(this);\n        this.handleFileChange = this.handleFileChange.bind(this);\n        this.updateFilePreview = this.updateFilePreview.bind(this);\n        this.onDocumentLoadSuccess = this.onDocumentLoadSuccess.bind(this);\n        this.renderLogo = this.renderLogo.bind(this);\n    }\n\n    public handleMouseDown(event: React.MouseEvent<HTMLDivElement>): void {\n        this.setState({label: this.props.labelNotDragged});\n        this.setState({draggingState: 'dragging'});\n    }\n\n    public handleMouseOut(event: React.MouseEvent<HTMLDivElement>): void {\n        this.setState({draggingState: 'not dragging'});\n    }\n\n    public handleMouseUp(event: React.MouseEvent<HTMLDivElement>): void {\n        this.setState({draggingState: 'not dragging'});\n    }\n\n    public handleDragOver(event: React.DragEvent<HTMLDivElement>): void {\n        event.preventDefault();\n    }\n\n    public handleFileDrop(event: React.DragEvent<HTMLDivElement>): void {\n        this.props.handleFileDrop(event);\n        this.setState({dragged: true});\n        this.setState({label: this.props.labelDragged});\n        this.setState({draggingState: 'not dragging'});\n        this.updateFilePreview(event.dataTransfer.files[0]);\n    }\n\n    public handleDragEnter(event: React.DragEvent<HTMLDivElement>): void {\n        this.setState({label: this.props.labelNotDragged});\n        this.setState({draggingState: 'dragging'});\n    }\n\n    public handleDragExit(event: React.DragEvent<HTMLDivElement>): void {\n        if (this.state.dragged) {\n            this.setState({label: this.props.labelDragged});\n        } else {\n            this.setState({label: this.props.labelNotDragged});\n        }\n        this.setState({draggingState: 'not dragging'});\n    }\n\n    public handleFileChange(event: ChangeEvent<HTMLInputElement>): void {\n        this.props.handleFileChange(event);\n        this.setState({dragged: true});\n        this.setState({label: this.props.labelDragged});\n        this.setState({draggingState: 'not dragging'});\n        // @ts-ignore\n        this.updateFilePreview(event.target.files[0]);\n    }\n\n    public updateFilePreview(file: File): void {\n        let reader = new FileReader();\n        this.setState({file: file});\n\n        if (file.type === 'application/pdf') {\n            pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n        } else {\n            reader.addEventListener('load', () => {\n                // @ts-ignore\n                this.setState({src: reader.result});\n            });\n\n            if (file) {\n                reader.readAsDataURL(file);\n            }\n        }\n    }\n\n    public onDocumentLoadSuccess(): void {\n    }\n\n    public renderLogo(): ReactNode {\n        if (this.state.dragged && null !== this.state.file) {\n            // @ts-ignore\n            if (this.state.file.type.includes('image')) {\n                return (\n                    <img\n                        id={'dragged-file'}\n                        src={this.state.src}\n                        alt={'Fichier déposé'}\n                        className={'dragged-file'}\n                    />\n                );\n            } else {\n                return (\n                    <div className={'pdf-container'}>\n                        <Document\n                            file={this.state.file}\n                            onLoadSuccess={this.onDocumentLoadSuccess}\n                            noData={<h4>Glisse un fichier</h4>}\n                        >\n                            <Page height={100} scale={1} pageNumber={1}/>\n                        </Document>\n                    </div>\n                );\n            }\n        } else {\n            if (this.props.accept.includes('pdf')) {\n                return (\n                    <div\n                        className={'pdf-file-icon-container pb-3'}\n                        >\n                        <img\n                            src={pdfIcon}\n                            alt={'Icône de PDF'}\n                            />\n                    </div>\n                )\n            } else {\n                return (\n                    <div\n                        className={'rounded-1 not-dragged-file'}\n                    >\n                        <DropBoxLogo/>\n                    </div>\n                );\n            }\n        }\n    }\n\n    public render(): ReactNode {\n        return (\n            <div\n                className={this.props.className}\n                onDragOver={this.handleDragOver}\n                onDrop={this.handleFileDrop}\n                onDragEnter={this.handleDragEnter}\n                onDragExit={this.handleDragExit}\n                onMouseDown={this.handleMouseDown}\n                onMouseUp={this.handleMouseUp}\n                onMouseOut={this.handleMouseOut}\n                style={{\n                    opacity: this.state.draggingState === 'dragging' ? 0.5 : 1,\n                    transform: this.state.draggingState === 'dragging' ? 'rotate(-2deg) translateY(-10px)' : 'rotate(0)',\n                }}\n            >\n                <label className={'file-upload ' + this.props.labelClassName}>\n                    <DropBoxBackground\n                        label={this.state.label}\n                        className={this.props.backgroundClassName}\n                        dragged={this.state.dragged}\n                    >\n                        <input\n                            type={'file'}\n                            id={this.props.id}\n                            onChange={this.handleFileChange}\n                            hidden\n                            accept={this.props.accept}/>\n                        {this.renderLogo()}\n                    </DropBoxBackground>\n                </label>\n            </div>);\n    }\n}\n\nexport default DropBox;"]},"metadata":{},"sourceType":"module"}